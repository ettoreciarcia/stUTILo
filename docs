Bisogna aggiungere:

- La lambda function per lo scale up [OK]
- Dobbiamo creare a mano un cluster reale per tirare fuori cluster name e node group [OK]
- L'account id va tirato fuori con un data type [OK]
- Va aggiunta la part dei log su cloudwatch per la Lambda function in modo da poter fare troubleshooting [OK]
- Vanno creati gli event bridge in Terraform da attaccare alle due lambda functions [OK]
- Il passaggio dei node group può avvenire come env in lambda ma ci conviene tirarlo fuori come output dal modulo terraform in cui i node group vengono creati [NO]
- Capire perché non risulta aggiunto il trigger alle due lambda fucction nonostante l'event bridge di cloudwatch sia stato creato con successo
- Fase di testing triggerando i due eventi sul nodegroup di un cluster kubernetes [OK]
- Creare a mano i due log group di cloudwatch con retention custom per le due lambda functions [NO]

Problemi:


Dati:
- Nei cluster dei clienti in ambienti di stage abbiamo sempre almeno 3 nodi infra di dimensione minima t3.large e almeno due nodi app di dimensione t3.small
- Il costo annuale per 3 nodi infra di dimensione t3.large è pari a circa 1400 dollari
- Il tempo di creazione di un cluster con eksctl è di circa 20 minuti
- La distruzione del cluster richiede



Articolo: https://medium.com/@bagrat1206/aws-eventbridge-lambda-function-eks-node-group-scaleup-and-scaledown-in-schedule-e2d3bd1a896d

Issue tTerraform nell'associare il trigger alla lambda: https://github.com/hashicorp/terraform/issues/14342
